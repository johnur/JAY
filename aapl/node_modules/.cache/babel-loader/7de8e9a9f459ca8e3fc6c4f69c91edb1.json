{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\johan\\\\Desktop\\\\JAY\\\\aapl\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import Highcharts from\"highcharts/highstock\";import HighchartsReact from\"highcharts-react-official\";import\"../style/stock.css\";var Stock=function Stock(){var useEffectBlocker='';var _useState=useState({data:\"\"}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var jsonData=\"Time Series (Daily)\";var getDateArray=function getDateArray(){if(state.data){return Object.entries(state.data[jsonData]).map(function(date){return date[0].replace(/-/gi,\".\");}).reverse();}return[\"Loading...\"];};var getPriceArray=function getPriceArray(){if(state.data){var _jsonData=\"Time Series (Daily)\";var jsonStock=\"4. close\";// let jotain : number = (jsonStock as number)\nreturn Object.entries(state.data[_jsonData]).map(function(date){return parseFloat(date[1][jsonStock]);}).reverse();}return[0];};var dateArray=getDateArray();var priceArray=getPriceArray();var options={xAxis:{categories:dateArray,style:{color:'#efefef'}},title:{text:\"AAPL Stock Price\",style:{color:'#efefef'}},series:[{name:\"AAPL\",data:priceArray,color:'tomato'}]};function callAPI(){fetch(\"http://localhost:9000/testAPI\").then(function(res){return res.json();}).then(function(res){return setState({data:res});}).catch(function(err){return err;});}useEffect(function(){callAPI();},[useEffectBlocker]);return/*#__PURE__*/React.createElement(\"div\",{className:\"stock\"},/*#__PURE__*/React.createElement(HighchartsReact,{highcharts:Highcharts,constructorType:'stockChart',options:options}));};export default Stock;","map":{"version":3,"sources":["C:/Users/johan/Desktop/JAY/aapl/src/components/Stock.tsx"],"names":["React","useEffect","useState","Highcharts","HighchartsReact","Stock","useEffectBlocker","data","state","setState","jsonData","getDateArray","Object","entries","map","date","replace","reverse","getPriceArray","jsonStock","parseFloat","dateArray","priceArray","options","xAxis","categories","style","color","title","text","series","name","callAPI","fetch","then","res","json","catch","err"],"mappings":"gKAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,UAAP,KAAuC,sBAAvC,CACA,MAAOC,CAAAA,eAAP,KAA4B,2BAA5B,CACA,MAAO,oBAAP,CAIA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,CAElB,GAAMC,CAAAA,gBAAgB,CAAG,EAAzB,CAFkB,cAGQJ,QAAQ,CAAC,CAAEK,IAAI,CAAE,EAAR,CAAD,CAHhB,wCAGXC,KAHW,eAGJC,QAHI,eAKlB,GAAMC,CAAAA,QAAa,CAAG,qBAAtB,CACA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzB,GAAIH,KAAK,CAACD,IAAV,CAAgB,CACd,MAAOK,CAAAA,MAAM,CAACC,OAAP,CAAeL,KAAK,CAACD,IAAN,CAAWG,QAAX,CAAf,EAAqCI,GAArC,CAAyC,SAACC,IAAD,QAC9CA,CAAAA,IAAI,CAAC,CAAD,CAAJ,CAAQC,OAAR,CAAgB,KAAhB,CAAuB,GAAvB,CAD8C,EAAzC,EAELC,OAFK,EAAP,CAGD,CACD,MAAO,CAAC,YAAD,CAAP,CACD,CAPD,CASA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAC1B,GAAIV,KAAK,CAACD,IAAV,CAAgB,CACd,GAAMG,CAAAA,SAAa,CAAG,qBAAtB,CAEA,GAAMS,CAAAA,SAAc,CAAG,UAAvB,CACA;AACA,MAAOP,CAAAA,MAAM,CAACC,OAAP,CAAeL,KAAK,CAACD,IAAN,CAAWG,SAAX,CAAf,EAAqCI,GAArC,CAAyC,SAACC,IAAD,QAC9CK,CAAAA,UAAU,CAACL,IAAI,CAAC,CAAD,CAAJ,CAAQI,SAAR,CAAD,CADoC,EAAzC,EAELF,OAFK,EAAP,CAGD,CACD,MAAO,CAAC,CAAD,CAAP,CACD,CAXD,CAYA,GAAMI,CAAAA,SAAS,CAAGV,YAAY,EAA9B,CACA,GAAMW,CAAAA,UAAU,CAAGJ,aAAa,EAAhC,CAKA,GAAMK,CAAAA,OAAO,CAAG,CACdC,KAAK,CAAE,CACLC,UAAU,CAAEJ,SADP,CAELK,KAAK,CAAE,CACLC,KAAK,CAAE,SADF,CAFF,CADO,CAQdC,KAAK,CAAE,CACLC,IAAI,CAAE,kBADD,CAELH,KAAK,CAAE,CACLC,KAAK,CAAE,SADF,CAFF,CARO,CAedG,MAAM,CACN,CAAC,CACCC,IAAI,CAAE,MADP,CAECxB,IAAI,CAAEe,UAFP,CAGCK,KAAK,CAAE,QAHR,CAAD,CAhBc,CAAhB,CAuBA,QAASK,CAAAA,OAAT,EAAmB,CACjBC,KAAK,CAAC,+BAAD,CAAL,CACGC,IADH,CACQ,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAJ,EAAT,EADR,EAEGF,IAFH,CAEQ,SAACC,GAAD,QAAS1B,CAAAA,QAAQ,CAAC,CAAEF,IAAI,CAAE4B,GAAR,CAAD,CAAjB,EAFR,EAGGE,KAHH,CAGS,SAACC,GAAD,QAASA,CAAAA,GAAT,EAHT,EAID,CAEDrC,SAAS,CAAC,UAAM,CACd+B,OAAO,GACR,CAFQ,CAEN,CAAC1B,gBAAD,CAFM,CAAT,CAIA,mBACE,2BAAK,SAAS,CAAC,OAAf,eACC,oBAAC,eAAD,EACC,UAAU,CAAEH,UADb,CAEC,eAAe,CAAE,YAFlB,CAGC,OAAO,CAAEoB,OAHV,EADD,CADF,CASD,CA5ED,CA8EA,cAAelB,CAAAA,KAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Highcharts, { dateFormat } from \"highcharts/highstock\";\r\nimport HighchartsReact from \"highcharts-react-official\";\r\nimport \"../style/stock.css\"\r\n\r\n\r\n\r\nconst Stock = () => {\r\n\r\n  const useEffectBlocker = ''\r\n  const [state, setState] = useState({ data: \"\" });\r\n\r\n  const jsonData: any = \"Time Series (Daily)\";\r\n  const getDateArray = () => {\r\n    if (state.data) {\r\n      return Object.entries(state.data[jsonData]).map((date) =>\r\n        date[0].replace(/-/gi, \".\")\r\n      ).reverse();\r\n    }\r\n    return [\"Loading...\"];\r\n  };\r\n\r\n  const getPriceArray = () => {\r\n    if (state.data) {\r\n      const jsonData: any = \"Time Series (Daily)\";\r\n\r\n      const jsonStock: any = \"4. close\";\r\n      // let jotain : number = (jsonStock as number)\r\n      return Object.entries(state.data[jsonData]).map((date) =>\r\n        parseFloat(date[1][jsonStock])\r\n      ).reverse();\r\n    }\r\n    return [0];\r\n  };\r\n  const dateArray = getDateArray();\r\n  const priceArray = getPriceArray();\r\n\r\n\r\n\r\n  \r\n  const options = {\r\n    xAxis: {\r\n      categories: dateArray,\r\n      style: {\r\n        color: '#efefef'\r\n      }\r\n    },\r\n   \r\n    title: {\r\n      text: \"AAPL Stock Price\",\r\n      style: {\r\n        color: '#efefef'\r\n      }\r\n    },\r\n    \r\n    series:\r\n    [{\r\n      name: \"AAPL\",\r\n      data: priceArray,\r\n      color: 'tomato'\r\n    }],\r\n  };\r\n\r\n  function callAPI() {\r\n    fetch(\"http://localhost:9000/testAPI\")\r\n      .then((res) => res.json())\r\n      .then((res) => setState({ data: res }))\r\n      .catch((err) => err);\r\n  }\r\n\r\n  useEffect(() => {\r\n    callAPI();\r\n  }, [useEffectBlocker]);\r\n\r\n  return (\r\n    <div className=\"stock\">\r\n     <HighchartsReact\r\n      highcharts={Highcharts}\r\n      constructorType={'stockChart'}\r\n      options={options}\r\n    />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Stock;"]},"metadata":{},"sourceType":"module"}